---
title: 已保存查询
description: 保存常用查询，随时一键运行
sidebar_position: 7
---

# 已保存查询

已保存查询功能可以让你保存常用的任务查询语句，之后只需一键点击即可执行。无需反复输入相同的查询语句，只需保存一次，起一个描述性的名称，就可以在已保存查询页面随时使用。

---

## 快速开始

从侧边栏导航到**已保存查询**页面。如果你还没有保存过任何查询，你会看到一个空状态页面，提示你创建第一个查询。

:::tip 提示
你也可以直接在**高级搜索**中保存查询——构建好查询后，保存它以便之后快速访问。
:::

---

## 创建查询

点击页面右上角的**保存查询**按钮。弹出的对话框包含两个字段：

- **查询名称** — 为你的查询起一个描述性的名称（例如："逾期的工作任务"）
- **查询语句** — 要执行的查询表达式（例如：`status = 'todo' AND deadline < 'today'`）

填写两个字段后点击**保存**。新查询将出现在列表顶部。

### 查询语句示例

```
status = 'todo' AND deadline < 'today'
```

```
status = 'in-progress' AND tags = 'work'
```

```
title ILIKE '%report%' AND status != 'done'
```

完整的查询语法详情请参阅[查询语法](./query-syntax)文档。

---

## 管理查询

每个已保存查询都有一个上下文菜单（鼠标悬停时出现的 **⋯** 按钮），包含以下操作：

### 编辑

更新查询名称或查询语句。从上下文菜单中点击**编辑查询**打开编辑对话框。修改字段后点击**保存**即可应用更改。

### 删除

移除不再需要的已保存查询。从上下文菜单中点击**删除查询**。系统会弹出确认对话框，确认后查询将被永久删除。

---

## 置顶

将最重要的查询置顶，使其始终显示在列表顶部。

- **置顶**：在上下文菜单中点击**置顶查询**。置顶的查询会在名称旁边显示一个图钉图标，并始终排在未置顶的查询之前。
- **取消置顶**：在上下文菜单中点击**取消置顶**即可取消置顶状态。

置顶查询会被排序到列表最前面，让你最常用的查询始终一目了然。

---

## 排序

通过拖拽来重新排列已保存查询的顺序。排列顺序会被持久化保存，你的查询会按照你设定的方式保持有序。配合置顶功能使用，你可以完全控制查询列表的布局。

---

## 执行查询

点击任意已保存查询即可展开并在页面内查看结果。查询会在首次展开时自动执行。

- **结果计数** — 查询名称旁边会显示匹配任务的总数
- **任务列表** — 每个匹配的任务会显示状态图标、标题、标签和截止日期
- **展开任务详情** — 点击任务行可以展开查看完整描述和备注

### 加载更多

结果按每页 20 条进行分页。如果有更多结果，底部会出现一个**加载更多**按钮，同时显示"显示 X / Y"的计数器。点击按钮即可加载下一页结果。

---

## 结果操作

查看查询结果时，你可以执行以下操作：

### 在高级搜索中打开

从上下文菜单中点击**在高级搜索中打开**，将跳转到高级搜索页面并自动填入查询语句。当你想进一步筛选结果或探索相关任务时非常有用。

### 复制查询语句

从上下文菜单中点击**复制查询**，将查询语句复制到剪贴板。然后你可以将其粘贴到命令行工具中、分享给队友或在其他地方使用。

### 在新标签页中打开任务

在查看展开的任务结果时，点击**在新标签页中打开**链接，即可在新的浏览器标签页中打开完整的任务详情页面。

---

## 使用场景

以下是一些实用的已保存查询示例：

| 查询名称 | 查询语句 | 用途 |
|---|---|---|
| 逾期任务 | `status != 'done' AND deadline < 'today'` | 查找已过截止日期的任务 |
| 今日重点 | `status = 'todo' AND deadline = 'today'` | 今天到期的任务 |
| 进行中 | `status = 'in-progress'` | 所有正在进行的任务 |
| 工作任务 | `tags = 'work' AND status != 'done'` | 标记为"work"的未完成任务 |
| 本周任务 | `deadline BETWEEN 'today' AND '+7d'` | 一周内到期的任务 |
| 停滞任务 | `status = 'stale'` | 长时间未更新的任务 |
| 快速任务 | `tags = 'quick' AND status = 'todo'` | 有空闲时间时可以处理的小任务 |

---

## 技巧

- **使用描述性名称** — 按用途命名查询，而不是按语法（例如："冲刺回顾"而不是"本周已完成任务"）
- **置顶日常查询** — 将你每天都要查看的 2-3 个查询置顶，方便即时访问
- **结合截止日期使用** — 使用 `'today'`、`'+7d'`、`'this week'` 等截止日期过滤器的查询特别适合作为已保存查询，因为它们始终返回最新的、相关的结果
- **保持专注** — 每个已保存查询应服务于一个特定目的。创建多个专注的查询，而不是一个复杂的万能查询
- **用于站会** — 保存一个类似 `status = 'in-progress'` 的查询，在每日站会时快速回顾正在进行的任务

---

## 相关内容

- [查询语法](./query-syntax) — 查询语言完整参考
- [CLI 参考](./cli) — 使用 `ud task query` 从终端运行查询
