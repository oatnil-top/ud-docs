---
title: 版本发布记录
description: UnderControl 完整的版本历史和更新日志
sidebar_position: 1
---

# 版本发布记录

UnderControl 的版本更新历史和新功能介绍。

## 版本号说明

UnderControl 采用**语义化版本号**（格式：主版本号.次版本号.修订号），例如 `v0.19.0`：

- **主版本号 0**：表示开发版本，API 和功能可能会有较大变动
- **次版本号**（如 0.**19**.0）：增加新功能、重大改进或包含破坏性变更时递增
- **修订号**（如 0.19.**0**）：修复 bug、小优化等向后兼容的改进时递增

---

## v0.25.5 (2026-02-09)

### 新功能

#### kubectl 风格 CLI 命令

CLI 现在支持 `get`、`describe`、`apply`、`delete` 等顶层命令来管理任务，操作更直观高效。

### 改进

- 保存的查询任务行支持在新标签页中打开
- 应用内 CLI 文档更新，新增 kubectl 风格命令参考
- 查询文档新增完整文档站链接

---

## v0.25.4 (2026-02-08)

### 新功能

#### 侧边栏高级搜索

侧边栏新增高级搜索入口，快速导航到搜索页面。

#### CLI 备注应用命令

新增 `ud task note apply` 命令，通过 CLI 直接创建或更新任务备注。

### 改进

- 管理后台用户、角色、分组页面采用全新的移动端优先卡片布局，在手机上浏览更便捷

### 问题修复

- 修复链接弹窗中 Ctrl/Cmd+Enter 导致命令面板误选额外项目的问题

---

## v0.25.3 (2026-02-08)

### 新功能

#### 自然语言搜索

在高级搜索页面中使用自然语言查询您的数据，无需记忆复杂的查询语法。

---

## v0.25.2 (2026-02-08)

### 改进

- 查询构建器简易模式现在支持所有字段类型（文本、数字、日期、布尔、选择等），每种类型提供对应的输入控件

### 问题修复

- 修复查询构建器中 CONTAINS_ALL 生成错误语法的问题

---

## v0.25.0 (2026-02-07)

### 新功能

#### 保存的查询

保存常用的任务搜索查询，方便随时快速复用。展开任务行可直接查看任务描述和备注，无需跳转到详情页。

#### 侧边栏分组折叠

导航栏现在按功能分组，支持折叠和展开，让导航更整洁有序。

### 改进

- 更新应用图标

### 问题修复

- 修复看板视图中 Ctrl+Enter 导致重复创建任务的问题
- 修复保存的查询中自定义字段验证和自动填充的问题

---

## v0.24.0 (2026-02-06)

### 新功能

#### 看板任务创建自动匹配列条件

在特定列中创建任务时，任务会自动继承该列的筛选条件值。例如在「高优先级」列中新建任务，会自动设置为高优先级。

#### 自定义字段命名空间系统

自定义字段名称现在支持中文等 Unicode 字符，让您可以用更自然的方式命名字段。

### 改进

- 看板列操作支持中英文多语言切换
- 系统看板增加编辑保护提示，防止误修改
- 看板列条件支持用户类型枚举字段

### 问题修复

- 修复任务详情面板中自定义字段前缀处理错误
- 修复共享看板在「添加到看板」弹窗中未显示的问题
- 修复用户候选项预取和缓存机制

---

## v0.23.0 (2026-02-05)

### 新功能

#### 看板高级过滤和查询

看板现在支持更强大的任务筛选功能，帮助你更精确地找到需要的任务。

- 字符串字段支持模糊匹配（LIKE、ILIKE）和空值检测（IS NULL、IS NOT NULL）
- 数字字段支持完整的比较运算符（等于、大于、小于等）
- 枚举字段支持 IN 运算符，可一次选择多个值进行匹配
- 新增 8 个可查询字段：状态、预定日期、截止日期、开始时间、暂停时间、完成时间、标签 ID、优先级

#### 自定义字段改进

- 自定义字段的键名现在自动生成，无需手动输入
- 看板卡片现在显示任务状态
- 自定义字段下拉框现在显示用户名而不是用户 ID，更加清晰易读

#### 命令面板增强

命令面板现在可以自动识别和查询实体 UUID，快速定位任务、预算等资源。

#### 用户体验优化

- 斜杠菜单重新排序：任务列表放在最前面，文本格式化放在最后，符合使用频率
- 看板界面新增中文翻译支持

### 问题修复

- 修复看板用户字段下拉选项无法加载的问题
- 修复自定义字段在任务标签变更时未刷新的问题
- 修复看板查询字符串解析比较运算符的错误
- 修复看板 IN 运算符查询格式问题
- 修复字段名称的国际化翻译路径错误
- 修复切换语言时字段名称未更新的问题

### 改进

- 用户下拉框打开时自动刷新用户列表，确保数据最新
- 完善看板界面的中文翻译

---

## v0.22.2 (2026-02-03)

### 新功能

#### 回收站

删除的任务现在可以恢复了。

- 在新的「回收站」页面查看已删除的任务
- 一键恢复误删除的任务
- 看板侧边栏显示回收站小部件

### 改进

- 快捷键现在可通过命令面板访问

### 问题修复

- 修复看板列不必要显示加载动画的问题
- 修复待办列表删除任务时的短暂闪烁
- 改进删除任务时的状态处理

---

## v0.22.1 (2026-02-03)

### 新功能

#### 仪表盘快捷搜索

在仪表盘添加了命令面板快捷入口，点击即可快速搜索任务、支出和命令，无需记忆键盘快捷键。

#### 看板标签筛选增强

- 支持"不包含"操作符，可以筛选不含特定标签的任务
- 条件配置界面更清晰显示"包含/不包含"选项

#### 命令行工具改进

- 完成任务前需要确认，避免误操作

### 问题修复

- 修复看板标签查询的一致性问题
- 优化看板列配置表单的布局显示
- 修复空看板无法添加列的问题

---

## v0.22.0 (2026-02-02)

### 新功能

#### 看板卡片转移动作

当卡片在看板列之间移动时，现在可以自动触发预设动作：
- 支持配置列的退出动作（exitAction）
- 智能中断逻辑，避免重复触发
- 多个动作自动合并，提升执行效率

#### ud-cli 任务关联命令

新增 `link` 和 `unlink` 命令，可以关联和取消关联任务

### 改进

- 个人版用户现在可以看到专属功能入口

### Bug 修复

- 修复了看板列动作在某些情况下无法正确保存的问题
- 修复了创建看板时默认列动作生成的问题

---

## v0.21.11 (2026-02-02)

### 改进

#### 看板列排序

创建看板列时可以设置排序顺序，更灵活地组织任务视图。

### 修复

- 修复 Markdown 编辑器斜杠菜单的键盘导航和 Enter 键问题

---

## v0.21.10 (2026-02-01)

### 新功能

#### CLI Apply 命令

新增 kubectl 风格的 `apply` 命令，使用 YAML 文件管理任务：

```bash
ud task apply -f task.yaml
```

#### 看板自定义字段排序

看板现在支持按自定义字段排序，根据字段类型智能显示排序方向标签。

### 修复

- 修复自定义字段排序时空值的处理方式
- 修复 CLI 状态值格式问题
- 修复私有看板所有者权限问题
- 改进看板权限相关的错误提示

---

## v0.21.9 (2026-01-31)

### 改进

#### 看板类型选择

创建看板时，现在可以选择看板类型（私有或共享），让您更灵活地组织任务。

#### 私有看板简化

私有看板不再创建多余的分组，个人任务管理更加简洁清爽。

---

## v0.21.8 (2026-01-31)

### 新功能

#### CLI 任务备注

通过命令行为任务添加备注、进度更新和评论，实现人机无缝协作。

```bash
# 添加进度备注
ud task note add abc123 "✓ 认证模块完成"

# 查看任务的所有备注
ud task note list abc123

# 删除备注
ud task note delete abc123 note-id
```

AI 助手可以记录工作进度，人类可以随时追踪和提供上下文信息。

---

## v0.21.7 (2026-01-31)

### 新功能

#### 自定义字段排序

任务列表现在支持按自定义字段排序，让您可以根据项目特定的字段来组织任务。

#### CLI 改进

- **短ID匹配**：现在可以使用任务ID的前缀来快速选择任务，无需输入完整ID
- **批量更新命令**：新增 `task apply` 命令，支持从文件批量更新任务

```bash
# 使用短ID操作任务
ud task get abc     # 匹配以 "abc" 开头的任务

# 从文件批量更新任务
ud task apply tasks.yaml
```

---

## v0.21.6 (2026-01-31)

### 新功能

#### 自然语言任务查询

在命令行中使用自然语言查询您的任务：

```bash
ud nlquery "显示本周到期的任务"
ud nlquery "我有哪些高优先级任务？"
```

---

## v0.21.5 (2026-01-31)

### 新功能

#### CLI 多账户支持

现在可以使用 kubectl 风格的命令管理多个账户和 API 端点：

- **多上下文管理**：轻松切换个人账户和工作账户
- **多服务器支持**：配置开发、测试、生产等多个服务器
- **环境变量覆盖**：支持 CI/CD 场景下的临时覆盖

常用命令：
- `ud config get-contexts` - 列出所有配置的上下文
- `ud config use-context work` - 切换到工作账户
- `ud login --context staging` - 登录到指定上下文

### 文档

- 新增 CLI 多账户认证完整指南

---

## v0.21.1 (2026-01-30)

### 改进

#### CLI 安装体验

- **版本验证**：CLI 现在支持 `ud --version` 命令，方便验证安装是否成功
- **一键安装**：订阅页 CLI 下载区新增可复制的一键安装命令

---

## v0.21.0 (2026-01-30)

### 新功能

#### 命令行工具 (CLI)

全新的终端命令行工具，让您从终端管理任务：

- **TUI 交互模式**：运行 `ud` 进入可视化终端界面
  - Vim 风格快捷键（j/k 上下移动，gg/G 跳转，/ 搜索等）
  - 任务列表和详情页浏览
  - 直接创建、编辑、删除任务

- **文件选择器**：按 `f` 打开类似 fzf 的模糊搜索
  - 从当前目录选择文件创建任务
  - 文件第一行作为标题，其余作为描述
  - 自动跳过二进制文件

- **单次命令**：适合脚本和自动化
  - `ud task list` - 列出任务
  - `ud task create "标题"` - 创建任务
  - `ud task done <id>` - 完成任务

- **AI 助手集成**：让 Claude Code、Cursor 等 AI 工具访问您的任务

#### CLI 下载

- **订阅页新增 CLI 下载区**：支持 macOS、Linux、Windows 多平台
- **完整使用文档**：新增 CLI 文档页面，包含安装、配置和使用说明

---

## v0.20.3 (2026-01-29)

### 改进

#### 看板列表视图增强

- **列设置编辑**：在列表视图中点击列标题旁的设置按钮，可以编辑列的筛选条件和排序方式
- **创建看板引导**：点击「所有任务」系统看板的设置时，会弹出引导对话框，鼓励您创建自定义看板以获得更灵活的配置

---

## v0.20.2 (2026-01-29)

### 新功能

#### 看板列表视图

全新的看板列表视图模式，提供更灵活的任务浏览方式：

- **列表视图模式**：在看板页面切换到列表视图，以表格形式查看任务
- **全部任务看板**：新增系统级「全部任务」看板，方便查看所有私人任务
- **看板切换器**：在列表页面头部快速切换不同看板

#### 任务详情页改进

- **桌面端侧边栏固定**：任务详情的侧边栏现在会固定在视窗中，滚动时保持可见

### 改进

- **导航优化**：任务菜单现在直接跳转到看板列表视图
- **分段控件重设计**：侧边栏头部改用分段控件，操作更直观
- **列排序支持**：看板列现在支持配置 ORDER BY 排序规则
- **搜索预览**：在列编辑对话框中添加了搜索预览链接

### 修复

- **任务详情侧边栏**：修复了侧边栏固定位置的问题
- **看板翻译**：修复了国际化翻译缺失的问题
- **费用日期格式**：修复了日期更新时的格式问题
- **自定义字段查询**：修复了看板中自定义字段的查询处理

---

## v0.20.1 (2026-01-29)

### 新功能

#### 看板智能拖拽

拖拽任务到新列时，系统会智能更新任务属性以匹配目标列的条件：

- **自动属性更新**：任务移动时自动设置目标列需要的字段值
- **智能清理**：自动清除只属于原列条件的属性
- **标签处理**：标签会被智能添加或移除，而非覆盖

#### 看板多列显示

- **任务可同时出现在多列**：如果一个任务同时满足多个列的条件，它会在所有匹配的列中显示
- **独立卡片操作**：每个列中的任务卡片可以独立拖拽

#### 看板自定义字段筛选

- **支持自定义字段**：列匹配条件现在支持使用自定义字段进行筛选
- **灵活的条件组合**：可以组合状态、标签和自定义字段创建精确的任务视图

#### 看板文档

- **新增看板使用文档**：在看板信息弹窗中添加了文档链接，点击即可查看详细使用说明

### 改进

- **列设置对话框**：点击列标题打开对话框，更方便地查看和编辑列的名称及匹配条件

---

## v0.20.0 (2026-01-28)

### 新功能

#### 看板编辑模式

全新的看板布局编辑功能，让您更灵活地管理任务视图：

- **布局编辑模式**：点击"编辑布局"按钮进入编辑模式
  - 内联编辑列名称，双击即可修改
  - 直接编辑看板条件和列筛选条件
  - 使用状态下拉菜单快速选择匹配条件
  - 拖拽列进行重新排序

- **条件编辑器**：在看板标题旁显示当前筛选条件
  - 直接编辑原始查询字符串
  - 点击跳转到搜索页面查看匹配结果

#### 思维导图增强

- **状态颜色显示**：任务节点现在可以根据状态显示不同颜色，一眼识别任务进度

#### 任务视图排序

- **分组排序配置**：为每个分组设置独立的排序规则
- **视图默认排序**：创建视图时可预设排序配置

#### 命令面板优化

- **快捷键提示**：显示创建任务和选择任务的键盘快捷键
- **更清晰的快捷键显示**：改进了快捷键的视觉呈现

### 改进

- **看板性能**：列重排序使用乐观更新，操作更流畅
- **视图编辑**：现在可以编辑根级筛选条件（带警告提示）

### 修复

- **思维导图稳定性**：修复了工具提示显示问题
- **看板状态选择**：修复了状态值匹配问题

---

## v0.19.1 (2026-01-27)

### 文档改进

- **AI 聊天功能说明**：更清晰地说明了不同 AI 提供商的通信模式，帮助您更好地理解 AI 功能的工作方式
- **版本号说明**：在发布记录中添加了版本号的解释，让您了解版本号的含义
- **迁移指南**：为 v0.18.0 版本添加了数据迁移说明，帮助自部署用户平滑升级
- **AI 辅助提示**：在查询语法文档中添加了 AI 辅助使用技巧
- **快速访问更新日志**：「什么是新的」按钮现在直接链接到完整的发布记录页面

---

## v0.19.0 (2026-01-27)

### 新功能

#### 思维导图

现在您可以用思维导图的方式可视化和整理任务了！

- **任务层级思维导图**：在任务详情页面点击"思维导图"按钮，以思维导图的形式查看任务及其子任务
  - 自动根据任务关系生成思维导图
  - 点击节点直接跳转到对应任务
  - 清晰展示任务的层级结构

- **思维导图编辑器**：在任务中添加思维导图作为附件
  - 在任务详情页的附件区域，点击"添加思维导图"
  - 自由创建节点和连接关系
  - 拖拽调整节点位置
  - 双击编辑节点内容
  - 导出为图片保存

---

## v0.18.0 (2025-01-24)

### 新功能

#### 资源管理增强

- **一对多资源关联**：现在一个文件可以同时关联多个任务、预算或账户
  - 例如：一份设计图可以同时关联到多个相关任务
  - 在资源详情页查看所有关联的内容

- **快捷上传**：在资源页面顶部新增上传按钮，上传文件更方便

### 改进

- **账户、预算、费用页面**：加载速度更快，操作更流畅
- **附件管理**：修复了附件删除和显示的一些问题
- **界面优化**：简化了部分按钮样式，界面更简洁

### 升级说明（自部署用户）

如果您从旧版本升级到 v0.18.0，需要运行以下数据迁移脚本来迁移现有的资源关联关系：

```sql
-- 迁移脚本：将资源关联关系迁移到新的链接表
-- 此脚本将 resources 表中的 entity_type/entity_id 数据迁移到新的 resource_entity_links 表
-- 在 GORM AutoMigrate 创建新表后运行
-- 可安全重复运行（使用 INSERT OR IGNORE）

INSERT OR IGNORE INTO resource_entity_links (
    id,
    resource_id,
    entity_type,
    entity_id,
    created_at,
    created_by,
    updated_at,
    updated_by
)
SELECT
    lower(hex(randomblob(4)) || '-' || hex(randomblob(2)) || '-4' ||
          substr(hex(randomblob(2)),2) || '-' ||
          substr('89ab',abs(random()) % 4 + 1, 1) ||
          substr(hex(randomblob(2)),2) || '-' || hex(randomblob(6))) as id,
    r.id as resource_id,
    r.entity_type,
    r.entity_id,
    COALESCE(r.created_at, datetime('now')) as created_at,
    r.owner_id as created_by,
    COALESCE(r.updated_at, datetime('now')) as updated_at,
    r.owner_id as updated_by
FROM resources r
WHERE r.entity_type IS NOT NULL
  AND r.entity_type != ''
  AND r.entity_id IS NOT NULL
  AND r.entity_id != ''
  AND NOT EXISTS (
    SELECT 1 FROM resource_entity_links rel
    WHERE rel.resource_id = r.id
      AND rel.entity_type = r.entity_type
      AND rel.entity_id = r.entity_id
  );
```

**运行方法**：
1. 使用 SQLite 客户端连接到数据库文件
2. 执行上述 SQL 脚本
3. 重启应用

---

## 历史版本

更早的版本历史请参考项目的 Git 提交记录。
