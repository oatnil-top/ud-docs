---
title: 版本发布记录
description: UnderControl 完整的版本历史和更新日志
sidebar_position: 1
---

# 版本发布记录

UnderControl 的版本更新历史和新功能介绍。

## 版本号说明

UnderControl 采用**语义化版本号**（格式：主版本号.次版本号.修订号），例如 `v0.19.0`：

- **主版本号 0**：表示开发版本，API 和功能可能会有较大变动
- **次版本号**（如 0.**19**.0）：增加新功能、重大改进或包含破坏性变更时递增
- **修订号**（如 0.19.**0**）：修复 bug、小优化等向后兼容的改进时递增

---

## v0.35.4 (2026-03-01)

### 新功能

#### 任务自定义元数据

在任务详情页查看所有元数据字段，并直接添加自定义键值字段。

#### 保存查询任务操作

在保存的查询结果行中直接更改任务状态和分享任务到看板。

### 问题修复

- 修复非 ASCII 标题的任务无法创建 tmux 会话的问题

---

## v0.35.3 (2026-02-28)

### 新功能

#### 预算共享到群组

支持将预算共享给群组，使用 Unix 风格的权限控制（读取/写入/管理），方便团队协作管理预算。

### 问题修复

- 修复手机端有子分类但无数据时现金流汇总不显示的问题

---

## v0.35.2 (2026-02-28)

### 新功能

#### 个人版工作窗口数量限制

个人版用户现在最多可同时打开 2 个实现窗口。达到上限时会弹出提示，引导升级到 Pro 版解锁无限窗口。

#### 个人版凭据显示

个人版用户可在个人资料页查看默认登录凭据，方便在命令行工具或其他客户端中使用。

#### 命令行工具安装检测

使用「开始实现」功能时，应用会自动检测 ud 命令行工具是否已安装，未安装时会引导前往安装页面。

---

## v0.35.1 (2026-02-28)

### 新功能

#### 从桌面应用安装命令行工具

现在可以直接在桌面应用中安装 ud 命令行工具，无需再通过 Homebrew 手动下载。前往设置 > 集成设置，一键安装即可在终端中使用。

- 一键安装，自动配置系统 PATH
- 显示安装状态和路径
- 自动识别通过 Homebrew 等包管理器安装的 CLI

#### 任务详情刷新按钮

任务详情页新增刷新按钮，可快速重新加载最新数据。

### 问题修复

- 修复手机端月度收支柱状图显示问题

---

## v0.35.0 (2026-02-28)

### 新功能

#### 工作区：AI 驱动的任务实现

从看板直接启动任务实现，全新的嵌入式终端工作区让 AI 辅助编程更顺畅：

- 任务详情页新增「开始实现」按钮，一键进入实现流程
- 嵌入式终端工作区自动加载任务上下文，启动 Claude Code
- 看板支持配置项目目录，工作区自动在正确的目录下打开

#### 月度收支柱状图

交易页面新增按月收入/支出柱状图，直观展示每月收支对比，默认折叠显示。

### 改进

- 看板编辑对话框升级为抽屉式布局，新增项目目录配置

---

## v0.34.7 (2026-02-27)

### 新功能

#### 命令面板预览

命令面板新增预览面板，支持在左右分栏布局中查看任务描述

### 改进

- 身份提供商设置页面支持中英文切换

### 问题修复

- 修复本地同步推送任务后，当前视图不会自动刷新的问题

---

## v0.34.6 (2026-02-27)

### 问题修复

- 修复自部署场景下跨域 API 地址处理问题
- 修复身份认证配置页面的重定向 URL 显示

---

## v0.34.5 (2026-02-26)

### 新功能

#### 预算月度视图

全新的月度预算视图，支持按月查看和管理预算，通过月份选择器轻松切换，更好地追踪每月支出情况。

#### 预算概念说明页

新增预算概念文档页面，帮助您理解预算管理中的各项术语和概念。

### 改进

- AI「手气不错」功能现在会显示来源任务引用，提供更好的上下文信息

### 问题修复

- 修复预算页面在移动端的布局问题

---

## v0.34.4 (2026-02-26)

### 新功能

#### Feel Lucky 仪表盘小组件

仪表盘新增「手气不错」知识探索小组件，随机发现和探索您的知识库内容。

#### AI 提供商国际化

AI 提供商配置对话框和设置区域现已完整支持中英文双语。

### 改进

- 新增 AI 提供商配置操作指南

### 问题修复

- 修复操作指南导航重定向问题
- 修复任务图片识别和视觉任务创建时的文件上传路径
- 修复 AI 提供商启动配置
- 改进 Feel Lucky 功能的 AI 错误处理

---

## v0.34.3 (2026-02-25)

### 新功能

#### 内容大纲（目录）

任务详情页新增内容大纲功能，自动检测当前可见区域的标题并显示目录导航：

- 支持任务描述和备注中的标题导航
- 普通视图和禅模式均可使用
- 平滑的淡入淡出动画效果

#### 侧边栏切换按钮重新设计

全新的侧边栏切换按钮设计，采用右侧竖线加圆形按钮样式，更简洁优雅。

#### 禅模式增强

- 禅模式下新增右侧边缘返回按钮
- 禅模式下也可使用内容大纲

#### 侧边栏自动折叠

进入任务详情页时左侧边栏自动折叠，为阅读留出更多空间。

### 改进

- 双击编辑时自动聚焦并定位光标到点击位置
- 编辑内容时自动隐藏内容大纲，避免干扰
- 内容大纲显示区域更宽，阅读更舒适
- 移除任务详情页的 PDF 导出按钮，界面更简洁

### 问题修复

- 修复打印视图页眉页脚显示问题，保留页码
- 修复侧边栏切换按钮与滚动条重叠的问题
- 修复侧边栏折叠/展开时内容大纲位置未更新的问题

---

## v0.34.2 (2026-02-25)

### 新功能

#### 看板截止日期显示

看板列表视图和看板卡片现在直接显示任务的截止日期，方便一目了然地追踪时间敏感的任务。

#### @ 提及菜单

在富文本编辑器中输入 `@` 即可调出提及菜单，快速搜索并引用任务、预算等实体。

### 问题修复

- 修复截止日期跨年时未显示年份的问题
- 修复截止日期未根据语言设置显示对应日期格式的问题
- 优化截止日期在任务标题后的对齐显示
- 修复列表行中截止日期徽章对齐不一致的问题
- 修复 @ 提及菜单的方向键导航问题
- 修复 Chrome 扩展源码链接地址错误

---

## v0.34.1 (2026-02-24)

### 新功能

- 命令面板新增 `/localsync` 命令，快速触发本地同步

### 问题修复

- 修复任务以只读方式分享时，任务所有者无法编辑的问题
- 修复本地同步无法解析包含空格的文件名（如中文文件名）

---

## v0.34.0 (2026-02-23)

### 新功能

#### 扁平文件本地同步

本地同步全面升级为扁平 `.md` 文件格式，替代原来的嵌套 UUID 文件夹结构，让您可以在文件管理器或 Obsidian 中更方便地浏览和编辑任务。

#### Wikilink 与 Markdown 链接解析

同步时自动识别和解析任务之间的 `[[wikilink]]` 和 `[文本](./文件.md)` 链接，保持任务之间的关联关系。

#### 全量推送到远端

新增「全量推送」按钮，一键将所有本地文件强制推送到应用。

#### 任务导航历史

任务详情页新增浏览器风格的前进/后退导航箭头，方便在任务之间快速切换。

### 改进

- 推送/拉取按钮现在清晰显示方向（本地 → 应用，应用 → 本地）
- 纯 `.md` 文件无需 frontmatter 即可作为任务导入，使用默认字段值
- 本地同步在设置中升级为独立区域

### 问题修复

- 修复 macOS 程序坞图标尺寸和比例问题
- 导航箭头始终可见，支持缓存回退

---

## v0.33.2 (2026-02-20)

### 新功能

#### 账户资产趋势图

账户首页新增多折线资产趋势图，直观展示资产变化：

- 默认显示近 3 个月趋势，支持切换时间范围
- 图表默认折叠，点击展开查看
- 数据点标注真实记录日期

#### 账户历史备注

账户历史记录新增备注字段，方便记录每笔变动的说明。

#### CSV 导出

支持在客户端直接导出账户数据为 CSV 文件。

#### 资源元数据

资源上传流程支持添加元数据，并新增元数据更新接口。

#### CLI 文件夹同步

新增 `ud sync resource` 命令，支持递归同步本地文件夹到云端。

### 改进

- 访客模式下账户历史预设数据更丰富，趋势图展示效果更好

### 问题修复

- 修复趋势图 X 轴刻度重复显示相同日期的问题
- 修复生成预设账户历史时丢失原有日期的问题
- 修复访客账户历史时间点未对齐的问题

---

## v0.33.1 (2026-02-20)

### 新功能

#### 命令面板快捷提示栏增强

- 新增快捷提示栏显示/隐藏开关，让工作区更简洁
- 新增「新标签页打开」和「复制链接」快捷操作，提示项支持点击触发
- 快捷键提示改用文本标签显示，更加清晰易读

#### npm 安装 ud CLI

ud CLI 现在可通过 npm 安装：`npm install -g @oatnil/ud`

### 改进

- Web Clipper 现在同时支持 Markdown 和 SingleFile HTML 两种格式
- 应用内安装文档更新，新增 npm 和 Homebrew 安装方式说明

---

## v0.33.0 (2026-02-19)

### 新功能

#### 新用户预设保存查询

新注册用户自动获得一组预设的保存查询，帮助您快速上手使用。

#### CLI 看板命令

命令行工具新增看板相关命令：获取、查看详情和添加看板。

#### 访客收入预设数据

访客账户现在包含预设收入数据，方便体验完整功能。

### 改进

- 个人版登录状态延长至 7 天，无需频繁重新登录
- 首页架构图各节点新增简要说明，更清晰展示系统组成

### 问题修复

- 修复移动端交易筛选栏高度和对齐问题

---

## v0.32.0 (2026-02-18)

### 新功能

#### 收入管理与统一交易页面

全新的收入跟踪功能和统一交易页面，让您在一个地方管理所有收支：

- 新增收入记录功能，支持收入详情页和交易跳转
- 统一交易页面，同时查看支出和收入
- 创建收入时自动填充默认标题

#### 现金流概览

在交易页面新增现金流汇总功能：

- 实时查看收支汇总
- 支持多币种展示
- 添加或删除支出/收入后自动刷新

#### 预算进度追踪

交易侧边栏新增预算进度条，直观了解预算使用情况：

- 各预算独立进度条
- 总支出/预算汇总进度条

#### 隐私模式

交易页面新增隐私模式开关，一键隐藏金额信息。

#### 任务 PDF 导出

支持将任务及其备注导出为 PDF 文件。

### 改进

- 交易图标和金额颜色简化，视觉更清晰
- 现金流汇总布局更紧凑

### 问题修复

- 修复创建支出时未使用预算货币的问题
- 修复队列任务列表页面自动刷新的问题

---

## v0.31.1 (2026-02-15)

### 改进

#### 官网展示优化

- 应用展示区全新改版，采用自动轮播幻灯片展示真实产品截图
- SaaS 订阅区域重新设计，视觉效果更佳
- 架构图支持交互式节点预览，点击节点可查看对应的应用画面
- 架构图新增桌面应用、Apple 快捷指令、存储选项等节点

### 问题修复

- 修复对话框无障碍访问问题

---

## v0.31.0 (2026-02-15)

### 新功能

#### Web Clipper (Chrome 扩展)

全新 Chrome 浏览器扩展，一键将网页保存为 UnderControl 任务：

- 点击扩展图标，编辑标题，保存整个页面
- 使用 SingleFile 技术将页面捕获为完整的 HTML 快照
- 快照作为资源附件自动关联到新创建的任务
- 订阅页面新增 Web Clipper 介绍和文档入口

#### CLI 多账户支持

CLI 工具新增 `--context` 标志，支持临时切换上下文：

- 无需修改默认配置即可快速访问不同账户/服务器
- 例如：`ud --context work get task` 临时使用 work 上下文
- 应用内文档更新，包含完整的多账户使用指南

---

## v0.30.1 (2026-02-14)

### Bug Fixes

- 修复构建错误，提升应用稳定性

---

## v0.30.0 (2026-02-14)

### 新功能

#### 文件系统式资源浏览

资源页面全新升级为文件系统风格的浏览体验：

- 创建文件夹，将文件整理到不同目录中
- 面包屑导航，快速切换目录层级
- 点击 `..` 返回上一级目录
- 列表视图和画廊视图都支持文件夹浏览

#### 拖拽管理文件

- 拖拽文件到文件夹即可移动
- 从桌面拖拽文件直接上传到当前目录

#### 文件列表排序

- 点击列标题（名称、大小、创建时间、更新时间）即可排序
- 箭头指示当前排序方向

#### 看板快速添加任务

- 在看板列表视图中快速输入并通过 AI 创建任务

### 改进

- AI 识别的小票自动归档到 `/system/expense-from-vision/` 目录
- AI 识别的任务图片自动归档到 `/system/task-from-vision/` 目录

---

## v0.29.1 (2026-02-13)

### 改进

- 保存的查询项新增刷新图标，快速重新执行查询

---

## v0.29.0 (2026-02-13)

### 新功能

#### 预算预测账本

新增预算预测功能，查看预算余额随时间的变化趋势。

#### 预算明细时间线

全新的时间线视图，展示预算计划和一次性调整：

- 在时间线中直接添加计划和一次性调整
- 侧边栏显示相关支出，全面掌握预算动态

#### 快捷导航链接

- 从支出详情直接跳转到关联账户
- 从支出详情直接跳转到关联预算
- 在预算详情页直接添加支出

### 改进

- 支出设置了关联账户时，账户链接图标始终可见
- 创建预算时显示货币字段（只读），明确当前选择的货币

### 问题修复

- 修复对话框中预算货币使用硬编码 CNY 的问题，现在正确使用预算自身的货币
- 修复计划和调整对话框中的日期格式问题
- 修复时间线对齐问题
- 修复编辑器源码模式中多余的顶栏
- 修复主题偏好订阅中的默认值问题

---

## v0.28.5 (2026-02-13)

### 新功能

#### AI 翻译

在编辑器中选中文本，通过气泡菜单即可使用 AI 翻译功能。

#### 增强的 AI 气泡菜单

- 编辑模式下新增"Ask AI"按钮，快速获取 AI 辅助
- AI 结果弹窗新增复制按钮，一键复制 AI 生成内容
- 复制后显示勾选反馈，操作更直观

### 问题修复

- 修复使用 AI 文本优化时可能出现的崩溃问题
- 修复 AI 聊天输入框自动调整大小的问题

---

## v0.28.4 (2026-02-12)

构建失败 - 已被 v0.28.5 取代。

---

## v0.28.3 (2026-02-12)

### 问题修复

- 修复 AI 聊天选择任务上下文时导致过多网络请求的问题

---

## v0.28.2 (2026-02-12)

### 改进

- AI 聊天现在会将任务笔记作为上下文发送给 AI，让 AI 能更全面地了解你的任务信息

### 问题修复

- 修复预算详情页浮动操作按钮显示的问题
- 修复看板任务预览弹窗显示过时数据的问题

---

## v0.28.1 (2026-02-12)

### 新功能

#### 队列任务页面

新增队列任务管理页面，可以直接在应用中查看和监控后台队列任务的执行状态，支持一键重试失败的任务。

### 问题修复

- 修复队列页面空状态的显示问题

---

## v0.28.0 (2026-02-11)

### 新功能

#### UDQ 内联任务查询块

在 Markdown 文档中嵌入动态任务查询。使用 `udq` 代码块，通过状态、优先级、标签等条件查询任务，结果实时渲染在文档中。

#### Discord 社区

联系页面新增 Discord 社区邀请链接，方便加入社区交流。

### 问题修复

- 修复全屏编辑器（DrawIO 图表、思维导图）被侧边栏遮挡的问题
- 修复个人资料页面 API Key 标签重复显示的问题
- 修复个人资料页面内容宽度未充分利用可用空间的问题

---

## v0.27.2 (2026-02-10)

### 新功能

#### CLI 文件上传与附件管理

通过命令行直接上传文件并关联到任务，无需打开网页。

- `ud upload resource <文件路径>` — 上传文件到资源库
- `ud attach resource <资源ID> --entity-type <类型> --entity-id <ID>` — 将资源关联到任务等实体
- 上传时可直接指定关联目标，一步完成上传和绑定

---

## v0.27.1 (2026-02-10)

### 新功能

#### 数据流 AI 生成

在数据流图编辑器中新增 AI 生成功能，支持多种 AI 提供商，通过自然语言描述快速生成数据流图。

### 改进

- 编辑数据流图时侧边栏自动隐藏，提供更大的编辑空间

---

## v0.27.0 (2026-02-10)

### 新功能

#### 标签管理页面

新增专用标签管理页面，左侧展示所有标签列表，右侧显示所选标签下的任务。支持按使用次数、字母顺序和最近使用排序，支持搜索过滤，支持分页加载更多任务。

- 左右分栏布局，一目了然
- 标签列表显示使用次数、颜色标记
- 点击标签即可查看关联的所有任务
- 支持删除未使用的标签

---

## v0.26.0 (2026-02-09)

### 新功能

#### 标签智能补全

所有标签输入框现在都会自动显示您已有标签的建议。聚焦输入框即可看到建议列表，无需手动输入，批量添加标签时下拉菜单保持打开状态。

### 改进

- 标签统一显示为 `#标签` 药丸样式，整个应用视觉一致
- 标签名称现在支持特殊字符

### 问题修复

- 修复保存任务标签后建议列表未刷新的问题

---

## v0.25.5 (2026-02-09)

### 新功能

#### kubectl 风格 CLI 命令

CLI 现在支持 `get`、`describe`、`apply`、`delete` 等顶层命令来管理任务，操作更直观高效。

### 改进

- 保存的查询任务行支持在新标签页中打开
- 应用内 CLI 文档更新，新增 kubectl 风格命令参考
- 查询文档新增完整文档站链接

---

## v0.25.4 (2026-02-08)

### 新功能

#### 侧边栏高级搜索

侧边栏新增高级搜索入口，快速导航到搜索页面。

#### CLI 备注应用命令

新增 `ud task note apply` 命令，通过 CLI 直接创建或更新任务备注。

### 改进

- 管理后台用户、角色、分组页面采用全新的移动端优先卡片布局，在手机上浏览更便捷

### 问题修复

- 修复链接弹窗中 Ctrl/Cmd+Enter 导致命令面板误选额外项目的问题

---

## v0.25.3 (2026-02-08)

### 新功能

#### 自然语言搜索

在高级搜索页面中使用自然语言查询您的数据，无需记忆复杂的查询语法。

---

## v0.25.2 (2026-02-08)

### 改进

- 查询构建器简易模式现在支持所有字段类型（文本、数字、日期、布尔、选择等），每种类型提供对应的输入控件

### 问题修复

- 修复查询构建器中 CONTAINS_ALL 生成错误语法的问题

---

## v0.25.0 (2026-02-07)

### 新功能

#### 保存的查询

保存常用的任务搜索查询，方便随时快速复用。展开任务行可直接查看任务描述和备注，无需跳转到详情页。

#### 侧边栏分组折叠

导航栏现在按功能分组，支持折叠和展开，让导航更整洁有序。

### 改进

- 更新应用图标

### 问题修复

- 修复看板视图中 Ctrl+Enter 导致重复创建任务的问题
- 修复保存的查询中自定义字段验证和自动填充的问题

---

## v0.24.0 (2026-02-06)

### 新功能

#### 看板任务创建自动匹配列条件

在特定列中创建任务时，任务会自动继承该列的筛选条件值。例如在「高优先级」列中新建任务，会自动设置为高优先级。

#### 自定义字段命名空间系统

自定义字段名称现在支持中文等 Unicode 字符，让您可以用更自然的方式命名字段。

### 改进

- 看板列操作支持中英文多语言切换
- 系统看板增加编辑保护提示，防止误修改
- 看板列条件支持用户类型枚举字段

### 问题修复

- 修复任务详情面板中自定义字段前缀处理错误
- 修复共享看板在「添加到看板」弹窗中未显示的问题
- 修复用户候选项预取和缓存机制

---

## v0.23.0 (2026-02-05)

### 新功能

#### 看板高级过滤和查询

看板现在支持更强大的任务筛选功能，帮助你更精确地找到需要的任务。

- 字符串字段支持模糊匹配（LIKE、ILIKE）和空值检测（IS NULL、IS NOT NULL）
- 数字字段支持完整的比较运算符（等于、大于、小于等）
- 枚举字段支持 IN 运算符，可一次选择多个值进行匹配
- 新增 8 个可查询字段：状态、预定日期、截止日期、开始时间、暂停时间、完成时间、标签 ID、优先级

#### 自定义字段改进

- 自定义字段的键名现在自动生成，无需手动输入
- 看板卡片现在显示任务状态
- 自定义字段下拉框现在显示用户名而不是用户 ID，更加清晰易读

#### 命令面板增强

命令面板现在可以自动识别和查询实体 UUID，快速定位任务、预算等资源。

#### 用户体验优化

- 斜杠菜单重新排序：任务列表放在最前面，文本格式化放在最后，符合使用频率
- 看板界面新增中文翻译支持

### 问题修复

- 修复看板用户字段下拉选项无法加载的问题
- 修复自定义字段在任务标签变更时未刷新的问题
- 修复看板查询字符串解析比较运算符的错误
- 修复看板 IN 运算符查询格式问题
- 修复字段名称的国际化翻译路径错误
- 修复切换语言时字段名称未更新的问题

### 改进

- 用户下拉框打开时自动刷新用户列表，确保数据最新
- 完善看板界面的中文翻译

---

## v0.22.2 (2026-02-03)

### 新功能

#### 回收站

删除的任务现在可以恢复了。

- 在新的「回收站」页面查看已删除的任务
- 一键恢复误删除的任务
- 看板侧边栏显示回收站小部件

### 改进

- 快捷键现在可通过命令面板访问

### 问题修复

- 修复看板列不必要显示加载动画的问题
- 修复待办列表删除任务时的短暂闪烁
- 改进删除任务时的状态处理

---

## v0.22.1 (2026-02-03)

### 新功能

#### 仪表盘快捷搜索

在仪表盘添加了命令面板快捷入口，点击即可快速搜索任务、支出和命令，无需记忆键盘快捷键。

#### 看板标签筛选增强

- 支持"不包含"操作符，可以筛选不含特定标签的任务
- 条件配置界面更清晰显示"包含/不包含"选项

#### 命令行工具改进

- 完成任务前需要确认，避免误操作

### 问题修复

- 修复看板标签查询的一致性问题
- 优化看板列配置表单的布局显示
- 修复空看板无法添加列的问题

---

## v0.22.0 (2026-02-02)

### 新功能

#### 看板卡片转移动作

当卡片在看板列之间移动时，现在可以自动触发预设动作：
- 支持配置列的退出动作（exitAction）
- 智能中断逻辑，避免重复触发
- 多个动作自动合并，提升执行效率

#### ud-cli 任务关联命令

新增 `link` 和 `unlink` 命令，可以关联和取消关联任务

### 改进

- 个人版用户现在可以看到专属功能入口

### Bug 修复

- 修复了看板列动作在某些情况下无法正确保存的问题
- 修复了创建看板时默认列动作生成的问题

---

## v0.21.11 (2026-02-02)

### 改进

#### 看板列排序

创建看板列时可以设置排序顺序，更灵活地组织任务视图。

### 修复

- 修复 Markdown 编辑器斜杠菜单的键盘导航和 Enter 键问题

---

## v0.21.10 (2026-02-01)

### 新功能

#### CLI Apply 命令

新增 kubectl 风格的 `apply` 命令，使用 YAML 文件管理任务：

```bash
ud task apply -f task.yaml
```

#### 看板自定义字段排序

看板现在支持按自定义字段排序，根据字段类型智能显示排序方向标签。

### 修复

- 修复自定义字段排序时空值的处理方式
- 修复 CLI 状态值格式问题
- 修复私有看板所有者权限问题
- 改进看板权限相关的错误提示

---

## v0.21.9 (2026-01-31)

### 改进

#### 看板类型选择

创建看板时，现在可以选择看板类型（私有或共享），让您更灵活地组织任务。

#### 私有看板简化

私有看板不再创建多余的分组，个人任务管理更加简洁清爽。

---

## v0.21.8 (2026-01-31)

### 新功能

#### CLI 任务备注

通过命令行为任务添加备注、进度更新和评论，实现人机无缝协作。

```bash
# 添加进度备注
ud task note add abc123 "✓ 认证模块完成"

# 查看任务的所有备注
ud task note list abc123

# 删除备注
ud task note delete abc123 note-id
```

AI 助手可以记录工作进度，人类可以随时追踪和提供上下文信息。

---

## v0.21.7 (2026-01-31)

### 新功能

#### 自定义字段排序

任务列表现在支持按自定义字段排序，让您可以根据项目特定的字段来组织任务。

#### CLI 改进

- **短ID匹配**：现在可以使用任务ID的前缀来快速选择任务，无需输入完整ID
- **批量更新命令**：新增 `task apply` 命令，支持从文件批量更新任务

```bash
# 使用短ID操作任务
ud task get abc     # 匹配以 "abc" 开头的任务

# 从文件批量更新任务
ud task apply tasks.yaml
```

---

## v0.21.6 (2026-01-31)

### 新功能

#### 自然语言任务查询

在命令行中使用自然语言查询您的任务：

```bash
ud nlquery "显示本周到期的任务"
ud nlquery "我有哪些高优先级任务？"
```

---

## v0.21.5 (2026-01-31)

### 新功能

#### CLI 多账户支持

现在可以使用 kubectl 风格的命令管理多个账户和 API 端点：

- **多上下文管理**：轻松切换个人账户和工作账户
- **多服务器支持**：配置开发、测试、生产等多个服务器
- **环境变量覆盖**：支持 CI/CD 场景下的临时覆盖

常用命令：
- `ud config get-contexts` - 列出所有配置的上下文
- `ud config use-context work` - 切换到工作账户
- `ud login --context staging` - 登录到指定上下文

### 文档

- 新增 CLI 多账户认证完整指南

---

## v0.21.1 (2026-01-30)

### 改进

#### CLI 安装体验

- **版本验证**：CLI 现在支持 `ud --version` 命令，方便验证安装是否成功
- **一键安装**：订阅页 CLI 下载区新增可复制的一键安装命令

---

## v0.21.0 (2026-01-30)

### 新功能

#### 命令行工具 (CLI)

全新的终端命令行工具，让您从终端管理任务：

- **TUI 交互模式**：运行 `ud` 进入可视化终端界面
  - Vim 风格快捷键（j/k 上下移动，gg/G 跳转，/ 搜索等）
  - 任务列表和详情页浏览
  - 直接创建、编辑、删除任务

- **文件选择器**：按 `f` 打开类似 fzf 的模糊搜索
  - 从当前目录选择文件创建任务
  - 文件第一行作为标题，其余作为描述
  - 自动跳过二进制文件

- **单次命令**：适合脚本和自动化
  - `ud task list` - 列出任务
  - `ud task create "标题"` - 创建任务
  - `ud task done <id>` - 完成任务

- **AI 助手集成**：让 Claude Code、Cursor 等 AI 工具访问您的任务

#### CLI 下载

- **订阅页新增 CLI 下载区**：支持 macOS、Linux、Windows 多平台
- **完整使用文档**：新增 CLI 文档页面，包含安装、配置和使用说明

---

## v0.20.3 (2026-01-29)

### 改进

#### 看板列表视图增强

- **列设置编辑**：在列表视图中点击列标题旁的设置按钮，可以编辑列的筛选条件和排序方式
- **创建看板引导**：点击「所有任务」系统看板的设置时，会弹出引导对话框，鼓励您创建自定义看板以获得更灵活的配置

---

## v0.20.2 (2026-01-29)

### 新功能

#### 看板列表视图

全新的看板列表视图模式，提供更灵活的任务浏览方式：

- **列表视图模式**：在看板页面切换到列表视图，以表格形式查看任务
- **全部任务看板**：新增系统级「全部任务」看板，方便查看所有私人任务
- **看板切换器**：在列表页面头部快速切换不同看板

#### 任务详情页改进

- **桌面端侧边栏固定**：任务详情的侧边栏现在会固定在视窗中，滚动时保持可见

### 改进

- **导航优化**：任务菜单现在直接跳转到看板列表视图
- **分段控件重设计**：侧边栏头部改用分段控件，操作更直观
- **列排序支持**：看板列现在支持配置 ORDER BY 排序规则
- **搜索预览**：在列编辑对话框中添加了搜索预览链接

### 修复

- **任务详情侧边栏**：修复了侧边栏固定位置的问题
- **看板翻译**：修复了国际化翻译缺失的问题
- **费用日期格式**：修复了日期更新时的格式问题
- **自定义字段查询**：修复了看板中自定义字段的查询处理

---

## v0.20.1 (2026-01-29)

### 新功能

#### 看板智能拖拽

拖拽任务到新列时，系统会智能更新任务属性以匹配目标列的条件：

- **自动属性更新**：任务移动时自动设置目标列需要的字段值
- **智能清理**：自动清除只属于原列条件的属性
- **标签处理**：标签会被智能添加或移除，而非覆盖

#### 看板多列显示

- **任务可同时出现在多列**：如果一个任务同时满足多个列的条件，它会在所有匹配的列中显示
- **独立卡片操作**：每个列中的任务卡片可以独立拖拽

#### 看板自定义字段筛选

- **支持自定义字段**：列匹配条件现在支持使用自定义字段进行筛选
- **灵活的条件组合**：可以组合状态、标签和自定义字段创建精确的任务视图

#### 看板文档

- **新增看板使用文档**：在看板信息弹窗中添加了文档链接，点击即可查看详细使用说明

### 改进

- **列设置对话框**：点击列标题打开对话框，更方便地查看和编辑列的名称及匹配条件

---

## v0.20.0 (2026-01-28)

### 新功能

#### 看板编辑模式

全新的看板布局编辑功能，让您更灵活地管理任务视图：

- **布局编辑模式**：点击"编辑布局"按钮进入编辑模式
  - 内联编辑列名称，双击即可修改
  - 直接编辑看板条件和列筛选条件
  - 使用状态下拉菜单快速选择匹配条件
  - 拖拽列进行重新排序

- **条件编辑器**：在看板标题旁显示当前筛选条件
  - 直接编辑原始查询字符串
  - 点击跳转到搜索页面查看匹配结果

#### 思维导图增强

- **状态颜色显示**：任务节点现在可以根据状态显示不同颜色，一眼识别任务进度

#### 任务视图排序

- **分组排序配置**：为每个分组设置独立的排序规则
- **视图默认排序**：创建视图时可预设排序配置

#### 命令面板优化

- **快捷键提示**：显示创建任务和选择任务的键盘快捷键
- **更清晰的快捷键显示**：改进了快捷键的视觉呈现

### 改进

- **看板性能**：列重排序使用乐观更新，操作更流畅
- **视图编辑**：现在可以编辑根级筛选条件（带警告提示）

### 修复

- **思维导图稳定性**：修复了工具提示显示问题
- **看板状态选择**：修复了状态值匹配问题

---

## v0.19.1 (2026-01-27)

### 文档改进

- **AI 聊天功能说明**：更清晰地说明了不同 AI 提供商的通信模式，帮助您更好地理解 AI 功能的工作方式
- **版本号说明**：在发布记录中添加了版本号的解释，让您了解版本号的含义
- **迁移指南**：为 v0.18.0 版本添加了数据迁移说明，帮助自部署用户平滑升级
- **AI 辅助提示**：在查询语法文档中添加了 AI 辅助使用技巧
- **快速访问更新日志**：「什么是新的」按钮现在直接链接到完整的发布记录页面

---

## v0.19.0 (2026-01-27)

### 新功能

#### 思维导图

现在您可以用思维导图的方式可视化和整理任务了！

- **任务层级思维导图**：在任务详情页面点击"思维导图"按钮，以思维导图的形式查看任务及其子任务
  - 自动根据任务关系生成思维导图
  - 点击节点直接跳转到对应任务
  - 清晰展示任务的层级结构

- **思维导图编辑器**：在任务中添加思维导图作为附件
  - 在任务详情页的附件区域，点击"添加思维导图"
  - 自由创建节点和连接关系
  - 拖拽调整节点位置
  - 双击编辑节点内容
  - 导出为图片保存

---

## v0.18.0 (2025-01-24)

### 新功能

#### 资源管理增强

- **一对多资源关联**：现在一个文件可以同时关联多个任务、预算或账户
  - 例如：一份设计图可以同时关联到多个相关任务
  - 在资源详情页查看所有关联的内容

- **快捷上传**：在资源页面顶部新增上传按钮，上传文件更方便

### 改进

- **账户、预算、费用页面**：加载速度更快，操作更流畅
- **附件管理**：修复了附件删除和显示的一些问题
- **界面优化**：简化了部分按钮样式，界面更简洁

### 升级说明（自部署用户）

如果您从旧版本升级到 v0.18.0，需要运行以下数据迁移脚本来迁移现有的资源关联关系：

```sql
-- 迁移脚本：将资源关联关系迁移到新的链接表
-- 此脚本将 resources 表中的 entity_type/entity_id 数据迁移到新的 resource_entity_links 表
-- 在 GORM AutoMigrate 创建新表后运行
-- 可安全重复运行（使用 INSERT OR IGNORE）

INSERT OR IGNORE INTO resource_entity_links (
    id,
    resource_id,
    entity_type,
    entity_id,
    created_at,
    created_by,
    updated_at,
    updated_by
)
SELECT
    lower(hex(randomblob(4)) || '-' || hex(randomblob(2)) || '-4' ||
          substr(hex(randomblob(2)),2) || '-' ||
          substr('89ab',abs(random()) % 4 + 1, 1) ||
          substr(hex(randomblob(2)),2) || '-' || hex(randomblob(6))) as id,
    r.id as resource_id,
    r.entity_type,
    r.entity_id,
    COALESCE(r.created_at, datetime('now')) as created_at,
    r.owner_id as created_by,
    COALESCE(r.updated_at, datetime('now')) as updated_at,
    r.owner_id as updated_by
FROM resources r
WHERE r.entity_type IS NOT NULL
  AND r.entity_type != ''
  AND r.entity_id IS NOT NULL
  AND r.entity_id != ''
  AND NOT EXISTS (
    SELECT 1 FROM resource_entity_links rel
    WHERE rel.resource_id = r.id
      AND rel.entity_type = r.entity_type
      AND rel.entity_id = r.entity_id
  );
```

**运行方法**：
1. 使用 SQLite 客户端连接到数据库文件
2. 执行上述 SQL 脚本
3. 重启应用

---

## 历史版本

更早的版本历史请参考项目的 Git 提交记录。
